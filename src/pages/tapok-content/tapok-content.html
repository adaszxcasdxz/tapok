<ion-header>
    <ion-navbar>
        <ion-segment *ngIf="access == 'ok'" [(ngModel)]="tabs">
            <ion-segment-button value="info">
                Info
            </ion-segment-button> 
            <ion-segment-button value="chat">
                Chat 
            </ion-segment-button> 
        </ion-segment>
        <!--<ion-buttons right large>
            <button class="button-header" (click)="editTapok()" ion-button icon-only round>
                <ion-icon name="create"></ion-icon>
            </button>
        </ion-buttons>
        <ion-buttons right large>
            <button class="button-header" (click)="deleteTapok()" ion-button icon-only round>
                <ion-icon name="trash"></ion-icon>
            </button>
        </ion-buttons>-->
        <ion-buttons *ngIf="access == 'ok'" right large>
            <button class="button-header" (click)="popOver($event)" ion-button icon-only round>
                <ion-icon name="more"></ion-icon>
            </button>
        </ion-buttons>
    </ion-navbar>
</ion-header>

<ion-content text-center padding>  
    <ion-row *ngIf="event.photo != ''">
        <ion-col (click)="viewPic(event.photo)">
        <!--<ion-col (click)="toggle(event.$key, event.toggle)">
            <div *ngIf="event.toggle == 'false'">
                see photo
            </div>
            <div *ngIf="event.toggle == 'true'">-->
            <div class="box">
                <img class="photo" src="{{ event.photo }}">
            </div>    
            <!--<br>hide photo
            </div>-->
        </ion-col>
    </ion-row>      
    <ion-row>
        <ion-col>
            <div class="title"><h1><b><hr>{{ event.name }}<hr></b></h1></div>
        </ion-col>
    </ion-row>
    <ion-col class="details">
        <span *ngIf="event.enddate==''">
            <ion-icon name="calendar" color="secondary"></ion-icon>
            <span class="chip-label-date">{{ event.date }}</span>
        </span>
        <span *ngIf="event.enddate!=''">   
            <ion-icon name = "calendar" color="secondary"></ion-icon>                     
            <span class="chip-label-date">{{ event.date }}  <b>-</b> {{ event.enddate }}</span>
        </span>   
        <span *ngIf="event.endtime==''">
            <ion-icon name = "time" color="danger"></ion-icon>                    
            <span class="chip-label">{{ event.time }}</span>
        </span>
        <span *ngIf="event.endtime!=''">
            <ion-icon name = "time" color="danger"></ion-icon>                      
            <span class="chip-label">{{ event.time }}  <b>-</b> {{ event.endtime }}</span>
        </span>              
        <div class="location">
            <ion-icon name = "pin" color="primary"></ion-icon>                    
            <span class="chip-label">{{ event.venue }}</span>
        </div>
        <!--<div style="color: #488aff" (click)="toggleMap()" *ngIf="event.latitude!=null&&!toggle">
            <p><u>Show Map</u></p>
        </div>
        <div *ngIf="!toggle">
            <div *ngIf="event.latitude!=null" #map id="map"></div>
        </div>
        <div *ngIf="event.latitude!=null&&toggle" #map id="map"></div>
        <div style="color: #488aff" (click)="toggleMap()" *ngIf="toggle">
            <p><u>Hide Map</u></p>
        </div>-->
        <div *ngIf="event.latitude!=null" #map id="map"></div>
        <br>
        <button (click)="showAttendees(event.$key)" ion-button icon-left outline small>
            <div *ngIf="event.max_members == null">
                <div *ngIf="event.tapok > 1">{{ event.tapok }} Attendees</div>
                <div *ngIf="event.tapok == 1">{{ event.tapok }} Attendee</div>
                <div *ngIf="event.tapok == 0">No Attendees</div>
            </div>
            <div *ngIf="event.max_members != null">
                <div *ngIf="event.tapok > 1">{{ event.tapok }} of {{ event.max_members }} Attendees</div>
                <div *ngIf="event.tapok == 1">{{ event.tapok }} of {{ event.max_members }} Attendees</div>
                <div *ngIf="event.tapok == 0">0 of {{ event.max_members }} Attendees</div>
            </div>
        </button>
        <br *ngIf="event.tags != 'true'">
        <span *ngIf="event.tags == 'true'" text-left padding>
        <p class="tags"><ion-icon name = "pricetag" color="dark"></ion-icon>  Tags:<br>
        <span *ngFor="let tag of Tags | async">
            <span *ngIf="tag.key == event.$key">
            <ion-badge>{{ tag.tag }} </ion-badge>
            </span>
        </span>
        </p>
        </span>
    </ion-col> 
    <ion-col>
        <button class="notjoined" (click)="confirm(event, status[i])" ion-button icon-left round clear>
            <ion-icon name="happy"></ion-icon>
            JOIN
        </button>
    </ion-col>
    <ion-col>
        <button ion-button icon-left round clear>
            <ion-icon name="share"></ion-icon>
            <div class="share">Share</div>
        </button> 
    </ion-col>
    <ion-row *ngIf="event.description!=''" no-padding text-justify>
        <ion-col>
            <hr><b>Description:</b><div class="description">{{ event.description }}</div><hr>
        </ion-col>
    </ion-row>


    <!--<ion-footer>
            <div padding>
                <button class="kuyog-button" (click)="kuyog()" ion-button block>KUYOG</button>
            </div>
    </ion-footer>-->

</ion-content>