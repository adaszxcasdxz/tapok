<<<<<<< HEAD
{"version":3,"sources":["../../src/pages/event-content/event-content.module.ts","../../src/pages/event-content/event-content.ts"],"names":[],"mappings":"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","file":"19.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { EventContent } from './event-content';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    EventContent,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(EventContent),\r\n  ],\r\n  exports: [\r\n    EventContent\r\n  ]\r\n})\r\nexport class EventContentModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/event-content/event-content.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, ViewController, AlertController, NavParams, ModalController } from 'ionic-angular';\r\nimport { FireBaseService } from '../../providers/firebase-service';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'event-content',\r\n  templateUrl: 'event-content.html'\r\n})\r\nexport class EventContent {\r\n\r\n  event: any;\r\n  key: any;\r\n  user: any;\r\n  User: any;\r\n  userEventKeys: any;\r\n  userTest: any[] = [];\r\n  status: any;\r\n\r\n  constructor(\r\n    public navCtrl: NavController, public viewCtrl: ViewController, public alertCtrl: AlertController,\r\n    public navParams: NavParams, public modalCtrl: ModalController, public firebaseService: FireBaseService\r\n  ){\r\n    var i=0;\r\n\r\n    this.user = this.firebaseService.getUser();\r\n    this.key = navParams.get('param1');\r\n    this.event = this.firebaseService.getSpecificEvent(this.key);\r\n    this.event.forEach(events=> {\r\n      this.event = events;\r\n    });\r\n\r\n    this.User = this.firebaseService.getUsers();\r\n\r\n    this.User.subscribe(snapshot => {\r\n      this.userTest.length = 0;\r\n      i = 0;\r\n      snapshot.forEach(snap => {\r\n        this.userTest[i] = snap.key;\r\n        i++;\r\n      })\r\n      this.test();\r\n    });\r\n  }\r\n\r\n  test(){\r\n    this.status;\r\n    \r\n    for(var z=0;z<this.userTest.length;z++){\r\n      if(this.key!=this.userTest[z])\r\n        this.status = \"TAPOK\";\r\n      else{\r\n        this.status = \"JOINED\";\r\n        break;\r\n      }   \r\n    }\r\n  }\r\n\r\n  confirm(event, status){\r\n    if(status == \"JOINED\"){\r\n      let alert = this.alertCtrl.create({\r\n        title: 'Leave Event?',\r\n        buttons: [ \r\n          {\r\n            text: 'YES',\r\n            handler: () => {\r\n            this.tapok(event);\r\n            this.navCtrl.push('EventPage');\r\n            }\r\n          },\r\n          {\r\n            text: 'NO',\r\n          }\r\n        ]\r\n      });\r\n      alert.present();\r\n    }else\r\n      this.tapok(event);\r\n  }\r\n\r\n  tapok(event){\r\n    var status = \"false\";\r\n    var tapok = event.tapok;\r\n    var attendeeKey;\r\n    var eventKey;\r\n\r\n    for(var attendees in event.attendees){\r\n      if(event.attendees[attendees] == this.user){\r\n        status = \"true\";\r\n        attendeeKey = attendees;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if(status == \"false\")\r\n      tapok++;\r\n    else\r\n      tapok--;\r\n\r\n    eventKey = {\r\n      \"key\": event.$key\r\n    }\r\n\r\n    //this.firebaseService.addTapok(eventKey, event.$key, status, tapok, this.user, attendeeKey);\r\n  }\r\n\r\n  openChatContent()\r\n  {\r\n    let modal = this.modalCtrl.create('ChatContent', { label: 'Chat',  event: this.event});\r\n    modal.present();\r\n  }\r\n\r\n  viewPic(photo){\r\n    let modal = this.modalCtrl.create('ViewPicturePage', { pic: photo });\r\n    modal.present();\r\n  }\r\n  \r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/event-content/event-content.ts"],"sourceRoot":""}
=======
{"version":3,"sources":["../../src/pages/chat-content/chat-content.module.ts","../../src/pages/chat-content/chat-content.ts"],"names":[],"mappings":"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","file":"19.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ChatContent } from './chat-content';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ChatContent,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ChatContent),\r\n  ],\r\n  exports: [\r\n    ChatContent\r\n  ]\r\n})\r\nexport class ChatContentModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat-content/chat-content.module.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { IonicPage, NavController, ViewController, NavParams } from 'ionic-angular';\r\nimport { FireBaseService } from '../../providers/firebase-service';\r\nimport { FirebaseApp } from 'angularfire2';\r\nimport { Content } from 'ionic-angular';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-about',\r\n  templateUrl: 'chat-content.html'\r\n})\r\nexport class ChatContent {\r\n  @ViewChild (Content) content: Content;\r\n\tevent: any;\r\n  timestamp = '';\r\n  user: any;\r\n  Message = '';\r\n  chat: any;\r\n  eKey: any;\r\n  List: any;\r\n  listen: any;\r\n\r\n  constructor(public viewCtrl: ViewController, public navCtrl: NavController, \r\n    public firebaseService: FireBaseService,public params: NavParams, public firebaseApp: FirebaseApp) {\r\n      this.event = params.get('event');\r\n      console.log(this.event);\r\n      this.user = this.firebaseService.getUser();\r\n      this.eKey=this.event.$key;\r\n      this.List=this.firebaseService.getChat(this.eKey, this.content);\r\n      /*setTimeout(() => {\r\n        this.content.scrollToBottom(300);\r\n      });*/\r\n  }\r\n\r\n  ionViewDidEnter(){\r\n    setTimeout(() => {\r\n      this.content.scrollToBottom(0);\r\n    });    \r\n\r\n    this.firebaseApp.database().ref(\"events/\"+this.eKey+\"/chat\").on('value', snapshot => {\r\n      setTimeout(() => {\r\n        this.content.scrollToBottom(300);\r\n      }); \r\n    });\r\n  }\r\n\r\n  ionViewWillEnter(){\r\n    this.firebaseApp.database().ref(\"events/\"+this.eKey+\"/chat\").on('value', snapshot => {\r\n      setTimeout(() => {\r\n        this.content.scrollToBottom(300);\r\n      }); \r\n    });\r\n  }\r\n\r\n  dismiss() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n  \r\n  sendMessage(){\r\n    this.chat={\r\n      \"message\": this.Message,\r\n      \"sentBy\": this.firebaseService.getUser(),\r\n      \"timestamp\": Date.now(),\r\n    }\r\n    \r\n    setTimeout(() => {\r\n      this.content.scrollToBottom(300);//300ms animation speed\r\n    });\r\n    this.firebaseService.sendMessage(this.chat, this.event.$key);\r\n    this.Message=\"\";\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat-content/chat-content.ts"],"sourceRoot":""}
>>>>>>> kurt
