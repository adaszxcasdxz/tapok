{"version":3,"sources":["../../src/pages/user/user.module.ts","../../src/pages/user/user.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { UserPage } from './user';\n@NgModule({\n  declarations: [\n    UserPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(UserPage),\n  ],\n  exports: [\n    UserPage   \n  ]\n})\nexport class UserPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user/user.module.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, AlertController,ViewController, ModalController } from 'ionic-angular';\r\nimport { FireBaseService } from '../../providers/firebase-service';\r\nimport { LoginGooglePage } from '../login-google/login-google';\r\nimport { App } from 'ionic-angular/components/app/app';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\n\r\ndeclare var google;\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-user',\r\n  templateUrl: 'user.html'\r\n})\r\nexport class UserPage {\r\n  @ViewChild('map') mapElement: ElementRef;\r\n  map: any;\r\n  currentLocation: any;\r\n  pages: any = \"me\";\r\n  username: any;\r\n  email: any;\r\n  photo: any;\r\n  otherUser: any;\r\n  Following: any;\r\n  Follower: any;\r\n  History: any;\r\n  check: any = false;\r\n  followInfo: any;\r\n  lat: any = 0;\r\n  lng: any = 0;\r\n  permission: any;\r\n  followKey: any;\r\n  other: any = false;\r\n  removeFollowerSubscribe: any;\r\n  removeFollowingSubscribe: any;\r\n  Archive: any[] = [];\r\n  emailToggle: any;\r\n  history: any;\r\n\r\n  constructor(public navCtrl: NavController, public firebaseService: FireBaseService, public app: App, public angularFireAuth: AngularFireAuth, public params: NavParams, public viewCtrl: ViewController, public modalCtrl: ModalController, public geolocation: Geolocation, public alrtCtrl: AlertController) {\r\n    this.otherUser = this.params.get('otherUser');\r\n    this.Following = this.firebaseService.getFollowing();\r\n    this.Follower = this.firebaseService.getAllFollowers();\r\n    this.History = this.firebaseService.getHistory();\r\n    this.firebaseService.getEvent().subscribe(snapshot => {\r\n      var i = 0;\r\n      snapshot.forEach(snap => {\r\n        if(snap.status == 'archive'){\r\n          for(var attendees in snap.attendees){\r\n            //console.log();\r\n            if(snap.attendees[attendees].name == this.firebaseService.getUser()){\r\n              this.Archive[i] = snap;\r\n              i++;\r\n            }\r\n            this.firebaseService.addArchive(snap.attendees[attendees].name, snap);\r\n          }\r\n          this.firebaseService.deleteEvent(snap); \r\n        }\r\n      });\r\n    });\r\n\r\n    this.History.subscribe(snapshot => {\r\n      this.history = snapshot;\r\n    })\r\n    this.pages = 'me';\r\n    console.log(this.Archive.length);\r\n    console.log(this.permission);\r\n    if(this.otherUser != null){ \r\n      console.log(this.otherUser.name);\r\n      this.Following.subscribe(snapshot => {\r\n        snapshot.forEach(snap => {\r\n          if(snap.name == this.otherUser.name){\r\n            this.check = true;\r\n            this.followKey = snap.$key;\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    if(this.otherUser == null){\r\n      this.username = this.firebaseService.getUser();\r\n      //this.email = this.firebaseService.getEmail();\r\n      this.email = 'this.firebaseService.getEmail()';\r\n      //this.photo = this.firebaseService.getPhotoURL();\r\n      this.photo = 'this.firebaseService.getPhotoURL()';\r\n    }else{\r\n      this.username = this.otherUser.name;\r\n      this.email = this.otherUser.email;\r\n      this.photo = this.otherUser.photo;\r\n      this.other = true;\r\n    }\r\n  }\r\n\r\n  ionViewWillEnter(){\r\n    this.firebaseService.getPermission(this.username).subscribe(snapshot => {\r\n      if(snapshot.length == 0)\r\n        this.permission = false;\r\n      else  \r\n        this.permission = true;\r\n    });\r\n\r\n    this.firebaseService.getEmailPermission(this.username).subscribe(snapshot => {\r\n      if(snapshot.length == 0)\r\n        this.emailToggle = false;\r\n      else  \r\n        this.emailToggle = true;\r\n    });\r\n\r\n      this.firebaseService.getUserLocation(this.username).subscribe(snap => {\r\n        if(snap!=undefined){\r\n          this.lat = snap[0].$value;\r\n          this.lng = snap[1].$value;\r\n        }\r\n      if(this.permission)\r\n        this.loadMap();\r\n    });\r\n  }\r\n\r\n  loadMap(){\r\n    var i, eventLocation: any[] = [];\r\n      this.geolocation.getCurrentPosition().then((position) => {\r\n        \r\n        let latLng = new google.maps.LatLng(this.lat, this.lng);\r\n\r\n        let mapOptions = {\r\n          center: latLng,\r\n          zoom: 15,\r\n          mapTypeId: google.maps.MapTypeId.ROADMAP\r\n        }\r\n\r\n        this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\r\n        \r\n        this.currentLocation = new google.maps.Marker({\r\n          map: this.map,\r\n          animation: google.maps.Animation.DROP,\r\n          position: latLng\r\n        });\r\n\r\n      }, (err) => {\r\n        console.log(err);\r\n      });\r\n    \r\n  }\r\n\r\n  changePage(val){\r\n    this.pages = val;\r\n    console.log(this.pages);\r\n    if(val == 'me')\r\n      this.ionViewWillEnter();\r\n  }\r\n\r\n  openSearch(){\r\n    let modal = this.modalCtrl.create('SearchPage');\r\n    modal.present();\r\n  }\r\n  \r\n  openMap(){\r\n    let modal = this.modalCtrl.create('MapPage');\r\n    modal.present();\r\n  }\r\n\r\n  logout(){\r\n    this.angularFireAuth.auth.signOut(); \r\n    this.app.getRootNav().setRoot('LoginPage');\r\n  }\r\n\r\n  follow(){\r\n    var follow = {\r\n      'name': this.username,\r\n      'email': this.email,\r\n      'photo': this.photo\r\n    }\r\n\r\n    var follower = {\r\n      'name': this.firebaseService.getUser(),\r\n      //this.email = this.firebaseService.getEmail();\r\n      'email': 'this.firebaseService.getEmail()',\r\n      //this.photo = this.firebaseService.getPhotoURL();\r\n      'photo': 'this.firebaseService.getPhotoURL()'\r\n    }\r\n\r\n    this.firebaseService.addFollowing(follow, follower);\r\n  }\r\n\r\n  followOther(fol){\r\n    var follow = {\r\n      'name': fol.name,\r\n      'email': fol.email,\r\n      'photo': fol.photo\r\n    }\r\n\r\n    var follower = {\r\n      'name': this.firebaseService.getUser(),\r\n      //this.email = this.firebaseService.getEmail();\r\n      'email': 'this.firebaseService.getEmail()',\r\n      //this.photo = this.firebaseService.getPhotoURL();\r\n      'photo': 'this.firebaseService.getPhotoURL()'\r\n    }\r\n\r\n    this.firebaseService.addFollowing(follow, follower);\r\n  }\r\n\r\n  unfollow(follow){\r\n    var name = this.firebaseService.getUser();\r\n    if(this.otherUser == null){\r\n      this.firebaseService.removeFollowing(follow.$key);\r\n    }else{\r\n      this.removeFollowingSubscribe = this.firebaseService.getFollowing().subscribe(snapshot => {\r\n        snapshot.forEach(snap => {\r\n          if(snap.name == follow.name)\r\n          this.firebaseService.removeFollowing(snap.$key);\r\n        });\r\n      });\r\n      \r\n    }\r\n    this.removeFollowerSubscribe = this.firebaseService.getFollowers(follow.name).subscribe(snapshot => {\r\n        snapshot.forEach(snap => {\r\n          if(snap.name == name){\r\n            console.log(follow.name + '' +snap.$key);\r\n            this.firebaseService.removeFollower(follow.name, snap.$key);\r\n          }\r\n        })\r\n      });\r\n    this.check = false;\r\n  }\r\n\r\n  askPermission(){\r\n    if(this.permission)\r\n      this.firebaseService.allowPermission();\r\n    else\r\n      this.firebaseService.removePermission();\r\n\r\n    this.ionViewWillEnter();\r\n    console.log(this.permission);\r\n    console.log('this.permission');\r\n  }\r\n\r\n  askEmailPermission(){\r\n    if(this.emailToggle)\r\n      this.firebaseService.allowEmailPermission();\r\n    else\r\n      this.firebaseService.removeEmailPermission();\r\n\r\n  this.ionViewWillEnter();\r\n  }\r\n\r\n  openUser(user){\r\n    let modal = this.modalCtrl.create('UserPage', { otherUser: user });\r\n    modal.present();\r\n  }\r\n\r\n  dismiss() {\r\n    if(this.removeFollowerSubscribe != undefined)\r\n      this.removeFollowerSubscribe.unsubscribe();\r\n    if(this.removeFollowingSubscribe != undefined)\r\n      this.removeFollowingSubscribe.unsubscribe();\r\n\t\tthis.viewCtrl.dismiss();\r\n  }\r\n  \r\n  clearHistory(){\r\n    let confirm = this.alrtCtrl.create({\r\n      title: 'Achive Cleared',\r\n      buttons: ['Ok']\r\n    });\r\n    let alert = this.alrtCtrl.create({\r\n      title: 'Clear Archive?',\r\n      buttons: [ \r\n        {\r\n          text: 'Yes',\r\n          handler: () => {\t\t\t\t\t\r\n            this.firebaseService.clearHistory();\r\n            confirm.present();\r\n          }\r\n        },\r\n        {\r\n          text: 'No',\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user/user.ts"],"sourceRoot":""}